<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Cute VM</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>Cute VM</h1><br/><p>in the firs nmap scan we have some ports open:</p><p></p><p><img src="images/6-1.png" alt="images/6-1.png" /></p><p></p><p>port 110 is hosted the pop3 service</p><p></p><p>port 22 is hosted SSH service</p><p></p><p>port 995 is hosted also pop3 service</p><p></p><p>port 80 is hosted HTTP service with apache2 </p><p></p><p>also port 88 is hosted http</p><p></p><p></p><p>now i will check the http webserver to get more information of the VM </p><p></p><p></p><p><img src="images/6-2.png" alt="images/6-2.png" /></p><p></p><p>as we can see, it is the default page of apache2, so we will dirb it </p><p></p><p>command:</p><p></p><p>dirb <a href="http://192.168.0.62/">http://192.168.0.62/</a></p><p></p><p>here we found /index.php</p><p></p><p><img src="images/6-3.png" alt="images/6-3.png" /></p><p></p><p>its a login, we will searchsploit for cutenews, in the bottom we can see the version of CuteNews is 2.1.2</p><p></p><p></p><p><img src="images/6-4.png" alt="images/6-4.png" /></p><p></p><p>we always want remote code execution so take that</p><p></p><p>it doesnt work so i will do it manually, lets check the ‘register’ site</p><p></p><p><img src="images/6-5.png" alt="images/6-5.png" /></p><p></p><p></p><p><img src="images/6-6.png" alt="images/6-6.png" /></p><p></p><p>looking here we cant see the capcha so lets take a look on the source page</p><p></p><p><img src="images/6-7.png" alt="images/6-7.png" /></p><p>here it is</p><p></p><p><img src="images/6-8.png" alt="images/6-8.png" /></p><p></p><p>go to personal option</p><p></p><p></p><p></p><p><img src="images/6-9.png" alt="images/6-9.png" /></p><p>a file upload, interesting</p><p></p><p><img src="images/6-10.png" alt="images/6-10.png" /></p><p></p><p>it doesent have any restriction on the type of file, so lets upload something to check if the name of the file change, when i take the patron i will upload some PHP to get a reverse shell</p><p></p><p><img src="images/6-11.png" alt="images/6-11.png" /></p><p></p><p>here we have it</p><p></p><p>now open a net cat on your atacker machine on port 4444</p><p></p><p><img src="images/6-12.png" alt="images/6-12.png" /></p><p></p><p>and on URL we will execute this command</p><p></p><p><img src="images/6-13.png" alt="images/6-13.png" /></p><p></p><p>so we get the reverse shell</p><p></p><p></p><p></p><p><img src="images/6-14.png" alt="images/6-14.png" /></p><p></p><p>user.txt: dcb8189a0eaf7a690a67785a7299be60</p><p></p><p>executing sudo -l we found the user www-data have sudo perm in hping3</p><p><img src="images/6-15.png" alt="images/6-15.png" /></p><p></p><p>lets use it</p><p></p><p><img src="images/6-16.png" alt="images/6-16.png" /></p><p></p><p><img src="images/6-17.png" alt="images/6-17.png" /></p><p></p><p><img src="images/6-18.png" alt="images/6-18.png" /></p><p></p><p>here we have all the machine hacked</p><p></p><p>root flag: 0b18032c2d06d9e738ede9bc24795ff2</p><p></p><p></p></div>
</body>
</html>
