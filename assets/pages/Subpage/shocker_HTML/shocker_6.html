<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>shocker</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>shocker</h1><br/><p>IP: 10.10.10.56</p><p></p><p></p><p>PORT     STATE SERVICE REASON         VERSION</p><p>80/tcp   open  http    syn-ack ttl 63 Apache httpd 2.4.18 ((Ubuntu))</p><p>| http-methods:</p><p>|_  Supported Methods: GET HEAD POST OPTIONS</p><p>|_http-title: Site doesn&#39;t have a title (text/html).</p><p>|_http-server-header: Apache/2.4.18 (Ubuntu)</p><p>2222/tcp open  ssh     syn-ack ttl 63 OpenSSH 7.2p2 Ubuntu 4ubuntu2.2 (Ubuntu Linux; protocol 2.0)</p><p>| ssh-hostkey:</p><p>|   2048 c4f8ade8f80477decf150d630a187e49 (RSA)</p><p>| ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQD8ArTOHWzqhwcyAZWc2CmxfLmVVTwfLZf0zhCBREGCpS2WC3NhAKQ2zefCHCU8XTC8hY9ta5ocU+p7S52OGHlaG7HuA5Xlnihl1INNsMX7gpNcfQEYnyby+hjHWPLo4++fAyO/lB8NammyA13MzvJy8pxvB9gmCJhVPaFzG5yX6Ly8OIsvVDk+qVa5eLCIua1E7WGACUlmkEGljDvzOaBdogMQZ8TGBTqNZbShnFH1WsUxBtJNRtYfeeGjztKTQqqj4WD5atU8dqV/iwmTylpE7wdHZ+38ckuYL9dmUPLh4Li2ZgdY6XniVOBGthY5a2uJ2OFp2xe1WS9KvbYjJ/tH</p><p>|   256 228fb197bf0f1708fc7e2c8fe9773a48 (ECDSA)</p><p>| ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBPiFJd2F35NPKIQxKMHrgPzVzoNHOJtTtM+zlwVfxzvcXPFFuQrOL7X6Mi9YQF9QRVJpwtmV9KAtWltmk3qm4oc=</p><p>|   256 e6ac27a3b5a9f1123c34a55d5beb3de9 (ED25519)</p><p>|_ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIC/RjKhT/2YPlCgFQLx+gOXhC6W3A3raTzjlXQMT8Msk</p><p>Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel</p><p></p><p></p><p></p><p>looking in cgi-bin/ directory of the http server we can found a file named user.sh, that means that the server use binaries files to do commands, so i can sploit that in the way ‘shellshocked’</p><p></p><p>the shellshock its a metasploit so i will use msfconsole</p><p></p><p><img src="images/6-1.png" alt="images/6-1.png" /></p><p></p><p>from here we will set the rhosts, lhost, and TARGETURI, who is the path of the file, in this case /cgi-bin/user.sh</p><p></p><p>then we will get the meterpreter</p><p></p><p></p><p>use shell for get the shell.</p><p></p><p>we are shelly here, so i will get the user.txt</p><p><img src="images/6-2.png" alt="images/6-2.png" /></p><p></p><p>user.txt:6f33f9c29f80dace9dc6c4e61485c765</p><p></p><p>shelly have sudo perm on perl so i found this to get the root:</p><p></p><p><code>sudo perl -e &#39;exec &quot;/bin/sh&quot;;&#39;</code></p><p></p><p>root.txt: 8cd6362210b8592d42a5674d50e547cd</p><p></p><p></p></div>
</body>
</html>
